# Map Analyzer - Windowsインストーラー FAQ

## よくある質問と回答

---

## 📦 インストーラーについて

### Q1: インストーラーのサイズはどのくらいですか?

**A:** 約25-30MBです。

- Flutter Windowsビルド (圧縮前): 約60MB
- Inno Setup圧縮後: 約25-30MB
- インストール後のディスク使用量: 約70MB

---

### Q2: インストーラーは何語に対応していますか?

**A:** 現在、以下の言語に対応しています:

- 日本語 (デフォルト)
- English (英語)

インストール時に選択できます。

---

### Q3: インストーラーにデジタル署名はありますか?

**A:** デフォルトでは署名なしです。

企業配布の場合は、コード署名証明書を取得して署名することを推奨します。
詳細は `BUILD_INSTALLER.md` の「デジタル署名」セクションを参照してください。

---

### Q4: Windows 11でも動作しますか?

**A:** はい、動作します。

対応OS:
- Windows 10 (バージョン1809以降)
- Windows 11 (全バージョン)

64-bit版のみ対応しています。

---

## 🔧 インストールについて

### Q5: インストール先を変更できますか?

**A:** はい、インストール時にカスタムパスを指定できます。

デフォルトインストール先:
```
C:\Program Files\Map Analyzer\
```

---

### Q6: インストールに管理者権限は必要ですか?

**A:** はい、必要です。

理由:
- `Program Files` への書き込み
- レジストリへの登録
- スタートメニューへのアイコン追加

---

### Q7: インストール時に「Visual C++ Redistributable」のエラーが出ます

**A:** 以下をインストールしてください:

**ダウンロード:**
https://aka.ms/vs/17/release/vc_redist.x64.exe

**インストール手順:**
1. 上記リンクからダウンロード
2. `vc_redist.x64.exe` を実行
3. インストール完了後、Map Analyzerインストーラーを再実行

---

### Q8: インストール中に「アンチウイルスが検出」と表示されます

**A:** False Positive (誤検出)です。

対処法:
1. アンチウイルスソフトの一時的無効化
2. インストーラーを除外リストに追加
3. Windows Defenderの場合:
   - 設定 → ウイルスと脅威の防止 → 除外
   - ファイルを除外リストに追加

---

## 🚀 使用について

### Q9: 初回起動時に設定するべきことは?

**A:** 以下の3つを設定してください:

1. **Mapillary APIキー**
   - 取得先: https://www.mapillary.com/developer
   - 設定画面 → Mapillary API Key

2. **Gemini APIキー**
   - 取得先: https://makersuite.google.com/app/apikey
   - 設定画面 → Gemini API Key

3. **無料/有料モード選択**
   - 無料: 最大100枚/検索
   - 有料: 最大200,000枚/検索

---

### Q10: オフラインでも使えますか?

**A:** 一部機能のみ使用可能です。

- ✅ 使える機能: エクスポート機能、ローカルデータ閲覧
- ❌ 使えない機能: Mapillary検索、Gemini AI解析

---

### Q11: APIキーはどこに保存されますか?

**A:** ローカルストレージに暗号化して保存されます。

保存場所:
```
C:\Users\<ユーザー名>\AppData\Local\map_analyzer\
```

アンインストール時に自動削除されます。

---

## 🗑️ アンインストールについて

### Q12: アンインストール方法は?

**A:** 2つの方法があります:

**方法1: コントロールパネル経由**
1. コントロールパネル → プログラムと機能
2. Map Analyzer を選択
3. アンインストール

**方法2: スタートメニュー経由**
1. スタートメニュー → Map Analyzer
2. Map Analyzerのアンインストール をクリック

---

### Q13: アンインストール時に設定ファイルも削除されますか?

**A:** はい、自動的に削除されます。

削除される内容:
- APIキー情報
- ユーザー設定
- キャッシュファイル
- ローカルデータベース

---

### Q14: 再インストール時に設定を引き継げますか?

**A:** いいえ、アンインストール時にすべて削除されます。

手動バックアップ方法:
1. アンインストール前に以下をコピー:
   ```
   C:\Users\<ユーザー名>\AppData\Local\map_analyzer\
   ```
2. 再インストール後、ファイルを元に戻す

---

## 🔒 セキュリティについて

### Q15: APIキーは安全に保管されますか?

**A:** はい、暗号化して保存されます。

セキュリティ対策:
- ローカルストレージに暗号化保存
- アクセス権限制限
- 外部送信なし (API呼び出し時のみ使用)

---

### Q16: データはどこに保存されますか?

**A:** すべてローカルに保存されます。

保存場所:
```
C:\Users\<ユーザー名>\AppData\Local\map_analyzer\
├── hive_data\       # Hiveデータベース
├── preferences\     # 設定ファイル
└── cache\           # キャッシュ
```

クラウド同期はありません。

---

## 🐛 トラブルシューティング

### Q17: アプリが起動しません

**原因と解決策:**

1. **Visual C++ Redistributable未インストール**
   - https://aka.ms/vs/17/release/vc_redist.x64.exe

2. **アンチウイルスによるブロック**
   - 除外リストに追加

3. **メモリ不足**
   - 推奨: 8GB以上
   - 最小: 4GB

4. **ディスク容量不足**
   - 500MB以上の空き容量確保

---

### Q18: Mapillary検索がエラーになります

**確認事項:**

1. **APIキーが正しく設定されているか**
   - 設定画面でAPIキーを再確認

2. **インターネット接続があるか**
   - ブラウザで https://www.mapillary.com にアクセス

3. **APIレート制限に達していないか**
   - 無料プラン: 制限あり
   - 有料プラン: 制限緩和

---

### Q19: AI解析が遅いです

**パフォーマンス改善策:**

1. **サンプルプレビュー機能を使用**
   - 3枚のサンプルでプロンプト確認後に実行

2. **処理枚数を減らす**
   - 無料モード: 100枚以下
   - 有料モード: 必要な枚数のみ

3. **ハードウェア要件確認**
   - RAM: 16GB以上推奨
   - CPU: Core i5以上推奨
   - インターネット: 10Mbps以上

---

### Q20: エクスポートしたExcelファイルが開けません

**対処法:**

1. **Excel 2016以降を使用**
   - または LibreOffice Calc

2. **ファイル形式確認**
   - .xlsx形式のみ対応

3. **ファイルサイズ確認**
   - 大量データの場合はJSON形式推奨

---

## 📊 パフォーマンスについて

### Q21: 大量データ処理時の推奨スペックは?

**推奨構成:**

| データ量 | CPU | RAM | インターネット |
|---------|-----|-----|---------------|
| 1,000枚以下 | Core i5 | 8GB | 10Mbps |
| 10,000枚 | Core i7 | 16GB | 50Mbps |
| 100,000枚 | Core i9/Ryzen 9 | 32GB | 100Mbps |

詳細: `推奨スペック.md`

---

### Q22: 処理時間の目安は?

**ベンチマーク (参考値):**

| 処理内容 | 枚数 | 所要時間 |
|---------|------|---------|
| Mapillary検索 | 1,000枚 | 約5-10秒 |
| Mapillary検索 | 10,000枚 | 約1-2分 |
| AI解析 | 100枚 | 約5-10分 |
| AI解析 | 1,000枚 | 約1-2時間 |
| Excelエクスポート | 10,000枚 | 約10-30秒 |

※ネットワーク環境とハードウェアにより変動

---

## 🌐 Web版との違い

### Q23: Web版とデスクトップ版の違いは?

**比較表:**

| 機能 | Web版 | Desktop版 |
|------|-------|----------|
| インストール | 不要 | 必要 |
| ファイルシステムアクセス | 制限あり | フルアクセス |
| パフォーマンス | 中 | 高 |
| オフライン動作 | 限定的 | 対応 |
| 自動更新 | 自動 | 手動 |
| 大量データ処理 | 制限あり | 最大200,000枚 |

---

### Q24: Web版とデスクトップ版でデータは共有できますか?

**A:** いいえ、共有できません。

それぞれ独立したローカルストレージを使用します。

データ移行方法:
1. Web版でデータをエクスポート (JSON/Excel)
2. Desktop版でインポート (将来実装予定)

---

## 📞 サポート

### Q25: サポートはどこで受けられますか?

**A:** GitHubリポジトリをご利用ください。

- GitHub Issues: https://github.com/geomatsuyama/Maptag/issues
- ドキュメント: https://github.com/geomatsuyama/Maptag

---

### Q26: 機能リクエストはどこに送れますか?

**A:** GitHub Issuesでリクエストしてください。

テンプレート:
```
タイトル: [機能リクエスト] 〇〇機能の追加

内容:
- 現在の問題点: ...
- 希望する機能: ...
- ユースケース: ...
```

---

## 📄 ライセンスについて

### Q27: ライセンスは何ですか?

**A:** MIT Licenseです。

- 商用利用: OK
- 改変: OK
- 再配布: OK (ライセンス表示必須)

詳細: `LICENSE.txt`

---

### Q28: APIキーは自分で取得する必要がありますか?

**A:** はい、必要です。

- Mapillary APIキー: https://www.mapillary.com/developer
- Gemini APIキー: https://makersuite.google.com/app/apikey

アプリにはAPIキーは含まれていません。

---

**最終更新: 2025年12月**
**Map Analyzer v1.0.0**

その他の質問は GitHub Issues でお問い合わせください。
